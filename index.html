<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8'>

    <!-- CSS -->
    <link href='/assets/components/foundation/css/foundation.css' rel='stylesheet'>
    <link href='/assets/stylesheets/style.css' rel='stylesheet'>

    <title>Atlantis</title>
</head>

<body ng-app="AtlantisLanding" ng-controller="ListingCtrl as listing">
    <nav class="top-bar" data-topbar role="navigation">
        <ul class="title-area">
            <li class="name">
                <h1 ng-cloak><a href="#">{{ ::listing.config.name }}</a></h1>
            </li>
            <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
            <li class="toggle-topbar menu-icon"><a href="/"><span>Menu</span></a></li>
        </ul>

        <section class="top-bar-section">
            <ul class="right">
                <li><a href="#" ng-style="{ background: listing.getRandomColor(this) }" data-reveal-id="myModal">Setup</a></li>
            </ul>
        </section>
    </nav>

    <div class="top-row row" ng-cloak>
        <div class="large-12 columns">
            <div class="grid">
                <figure class="effect-goliath" ng-repeat="item in ::listing.resources" ng-style="{ background: listing.getRandomColor(item.name) }">
                    <!-- <img ng-src="http://lorempixel.com/480/150/animals/{{ ::$index }}" alt="{{ ::item.name }}"> -->
                    <div class="image"></div>
                    <figcaption>
                        <h2>{{ ::item.name }}</h2>
                        <p>Open {{ ::item.name }} on {{ ::listing.config.name }}</p>
                        <a ng-href="http://{{ ::item.url }}">Open {{ ::item.name }} on {{ ::listing.config.name }}</a>
                    </figcaption>
                </figure>
            </div>
        </div>
    </div>

    <div id="myModal" class="reveal-modal" data-reveal>
        <a ng-hide="listing.firstTime" class="close-reveal-modal">&#215;</a>
        <div data-alert class="alert-box alert" ng-show="listing.firstTime">
          Hmm, it seems you're not using the proper url's, here is how to set this up.
        </div>

        <h2>Setup Instructions</h2>

        <p>Copy the following into your terminal to setup the urls:</p>
        <code onclick="window.selectText(this)">sudo python -c "$(curl -fsSL http://{{ ::listing.host }}/script/script.py)"</code>

        <p ng-show="listing.firstTime">Then click <a ng-href="http://{{ ::listing.config.url }}">here</a>.</p>
    </div>

    <!-- JS -->
    <script type="text/javascript" src="/assets/components/angular/angular.min.js"></script>
    <script type="text/javascript" src="/assets/components/lodash/dist/lodash.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/app.js"></script>

    <script type="text/javascript" src="/assets/components/fastclick/lib/fastclick.js"></script>
    <script type="text/javascript" src="/assets/components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/components/foundation/js/foundation/foundation.js"></script>
    <script type="text/javascript" src="/assets/components/foundation/js/foundation/foundation.topbar.js"></script>
    <script type="text/javascript" src="/assets/components/foundation/js/foundation/foundation.reveal.js"></script>

    <script type="text/javascript">
        $(document).foundation();
    </script>
</body>
</html>
